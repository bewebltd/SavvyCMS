(function(n){function t(){}n.extend(n.datepicker._defaults,{stepMinutes:1,stepHours:1,time24h:!1,showTime:!1,altTimeField:""}),n.datepicker._connectDatepickerOverride=n.datepicker._connectDatepicker,n.datepicker._connectDatepicker=function(t,i){n.datepicker._connectDatepickerOverride(t,i),this._get(i,"showTime")&&(i.settings.showButtonPanel=!0);var r=this._get(i,"showOn");(r=="button"||r=="both")&&(i.trigger.unbind("click"),i.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput==t?n.datepicker._hideDatepicker(null):n.datepicker._showDatepicker(t),!1}))},n.datepicker._showDatepickerOverride=n.datepicker._showDatepicker,n.datepicker._showDatepicker=function(t){if(n.datepicker._showDatepickerOverride(t),t=t.target||t,t.nodeName.toLowerCase()!="input"&&(t=n("input",t.parentNode)[0]),!n.datepicker._isDisabledDatepicker(t)){var i=n.datepicker._getInst(t),r=n.datepicker._get(i,"showTime");r&&n.timepicker.show(t)}},n.datepicker._checkExternalClickOverride=n.datepicker._checkExternalClick,n.datepicker._checkExternalClick=function(t){if(n.datepicker._curInst){var i=n(t.target);i.parents("#"+n.timepicker._mainDivId).length==0&&n.datepicker._checkExternalClickOverride(t)}},n.datepicker._hideDatepickerOverride=n.datepicker._hideDatepicker,n.datepicker._hideDatepicker=function(t,i){var r=this._curInst,u;r&&(!t||r==n.data(t,PROP_NAME))&&(u=this._get(r,"showTime"),t===undefined&&u&&(r.input&&(r.input.val(this._formatDate(r)),r.input.trigger("change")),this._updateAlternate(r),u&&n.timepicker.update(this._formatDate(r))),n.datepicker._hideDatepickerOverride(t,i),u&&n.timepicker.hide())},n.datepicker._selectDate=function(t,i){var e=n(t),r=this._getInst(e[0]),u=this._get(r,"showTime"),f;i=i!=null?i:this._formatDate(r),u||(r.input&&r.input.val(i),this._updateAlternate(r)),f=this._get(r,"onSelect"),f?f.apply(r.input?r.input[0]:null,[i,r]):r.input&&!u&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):r.stayOpen||(u?this._updateDatepicker(r):(this._hideDatepicker(null,this._get(r,"duration")),this._lastInput=r.input[0],typeof r.input[0]!="object"&&r.input[0].focus(),this._lastInput=null))},n.datepicker._updateDatepickerOverride=n.datepicker._updateDatepicker,n.datepicker._updateDatepicker=function(t){n.datepicker._updateDatepickerOverride(t),n.timepicker.resize()},t.prototype={init:function(){this._mainDivId="ui-timepicker-div",this._inputId=null,this._orgValue=null,this._orgHour=null,this._orgMinute=null,this._colonPos=-1,this._visible=!1,this.tpDiv=n('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-helper-hidden-accessible" style="width: 100px; display: none; position: absolute;"><\/div>'),this._generateHtml()},show:function(t){var u=n.datepicker._getInst(t),i,r;this._time24h=n.datepicker._get(u,"time24h"),this._altTimeField=n.datepicker._get(u,"altTimeField"),i=parseInt(n.datepicker._get(u,"stepMinutes"),10)||1,r=parseInt(n.datepicker._get(u,"stepHours"),10)||1,60%i!=0&&(i=1),24%r!=0&&(r=1),n("#hourSlider").slider("option","max",24-r),n("#hourSlider").slider("option","step",r),n("#minuteSlider").slider("option","max",60-i),n("#minuteSlider").slider("option","step",i),this._inputId=t.id,this._visible||(this._parseTime(),this._orgValue=n("#"+this._inputId).val()),this.resize(),n("#"+this._mainDivId).show(),this._visible=!0;var f=n("#"+n.datepicker._mainDivId),s=f.position(),e=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)+n(document).scrollLeft(),o=this.tpDiv.offset().left+this.tpDiv.outerWidth();o>e&&(f.css("left",s.left-(o-e)-5),this.tpDiv.css("left",f.offset().left+f.outerWidth()+"px"))},update:function(t){var i=n("#"+this._mainDivId+" span.fragHours").text()+":"+n("#"+this._mainDivId+" span.fragMinutes").text(),r;this._time24h||(i+=" "+n("#"+this._mainDivId+" span.fragAmpm").text()),r=n("#"+this._inputId).val(),n("#"+this._inputId).val(t+" "+i),this._altTimeField&&n(this._altTimeField).each(function(){n(this).val(i)})},hide:function(){this._visible=!1,n("#"+this._mainDivId).hide()},resize:function(){var t=n("#"+n.datepicker._mainDivId),r=t.position(),i=n("#"+n.datepicker._mainDivId+" > div.ui-datepicker-header:first-child").height();n("#"+this._mainDivId+" > div.ui-datepicker-header:first-child").css("height",i),this.tpDiv.css({height:t.height(),top:r.top,left:r.left+t.outerWidth()+"px"}),n("#hourSlider").css("height",this.tpDiv.height()-3.5*i),n("#minuteSlider").css("height",this.tpDiv.height()-3.5*i)},_generateHtml:function(){var t="",i;t+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix ui-corner-all">',t+='<div class="ui-datepicker-title" style="margin:0">',t+='<span class="fragHours">08<\/span><span class="delim">:<\/span><span class="fragMinutes">45<\/span> <span class="fragAmpm"><\/span><\/div><\/div><table>',t+="<tr><th>Hour<\/th><th>Minute<\/th><\/tr>",t+='<tr><td align="center"><div id="hourSlider" class="slider"><\/div><\/td><td align="center"><div id="minuteSlider" class="slider"><\/div><\/td><\/tr>',t+="<\/table>",this.tpDiv.empty().append(t),n("body").append(this.tpDiv),i=this,n("#hourSlider").slider({orientation:"vertical",range:"min",min:0,max:23,step:1,slide:function(n,t){i._writeTime("hour",t.value)},stop:function(){n("#"+i._inputId).focus()}}),n("#minuteSlider").slider({orientation:"vertical",range:"min",min:0,max:59,step:1,slide:function(n,t){i._writeTime("minute",t.value)},stop:function(){n("#"+i._inputId).focus()}}),n("#hourSlider > a").css("padding",0),n("#minuteSlider > a").css("padding",0)},_writeTime:function(t,i){t=="hour"&&(this._time24h?n("#"+this._mainDivId+" span.fragAmpm").text(""):(i<12?n("#"+this._mainDivId+" span.fragAmpm").text("am"):(n("#"+this._mainDivId+" span.fragAmpm").text("pm"),i-=12),i==0&&(i=12)),i<10&&(i="0"+i),n("#"+this._mainDivId+" span.fragHours").text(i)),t=="minute"&&(i<10&&(i="0"+i),n("#"+this._mainDivId+" span.fragMinutes").text(i))},_parseTime:function(){var u=n("#"+this._inputId).val();this._colonPos=u.search(":");var r=0,t=0,i="";this._colonPos!=-1&&(t=parseInt(u.substr(this._colonPos-2,2),10),r=parseInt(u.substr(this._colonPos+1,2),10),i=jQuery.trim(u.substr(this._colonPos+3,3))),i=i.toLowerCase(),i!="am"&&i!="pm"&&(i=""),t<0&&(t=0),r<0&&(r=0),t>23&&(t=23),r>59&&(r=59),i=="pm"&&t<12&&(t+=12),i=="am"&&t==12&&(t=0),this._setTime("hour",t),this._setTime("minute",r),this._orgHour=t,this._orgMinute=r},_setTime:function(t,i){isNaN(i)&&(i=0),i<0&&(i=0),i>23&&t=="hour"&&(i=23),i>59&&t=="minute"&&(i=59),t=="hour"&&n("#hourSlider").slider("value",i),t=="minute"&&n("#minuteSlider").slider("value",i),this._writeTime(t,i)}},n.timepicker=new t,n("document").ready(function(){n.timepicker.init()})})(jQuery);
//# sourceMappingURL=timepicker.min.js.map