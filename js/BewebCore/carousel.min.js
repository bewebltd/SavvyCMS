(function(n){n.fn.svyCarousel=function(n){return new t(this,n)};n.fn.svyCarousel.defaults={speed:1e3,delay:1e3,width:0,height:0,effect:"slide",pauseOnHover:!0,paused:!1,autoSlide:!0,animateBeginning:!1,firstSlide:0,prevClass:"",nextClass:"",tabClass:"",direction:"",beforeSlide:function(){},afterSlide:function(){},debug:!1};var t=function(t,i){var u={},e=n(t),h=0,o="",c=!1,s="",r=n.extend({},n.fn.svyCarousel.defaults,i),f={init:function(){r.width=r.width==0?e.width():r.width;r.height=r.height==0?e.height():r.height;var t=e.prop("id")!=""?e.prop("id"):e.prop("class");r.prevClass=r.prevClass==""?"."+t+"-prev":r.prevClass;r.nextClass=r.nextClass==""?"."+t+"-next":r.nextClass;r.tabClass=r.tabClass==""?"."+t+"-tabs":r.tabClass;o=n.fn.svyCarousel[r.effect];u.slides=[];n(e.children()).each(function(t){var i=n(r.tabClass).children(),f;i.eq(t).addClass("tab");f={ele:n(this),tab:i.eq(t)};u.slides.push(f);h++;t===r.firstSlide?(n(this).addClass("active"),i.eq(r.firstSlide).addClass("active")):n(this).css({display:"none"})});r.pauseOnHover&&e.hover(function(){r.paused=!0;clearTimeout(s)},function(){r.paused=!1;clearTimeout(s);r.autoSlide&&f.run()});e.on("beforeSlide",r.beforeSlide.bind(u));e.on("afterSlide",r.afterSlide.bind(u));n(r.prevClass).on("click",function(){return clearTimeout(s),f.run("prev",0,null,!0),!1});n(r.nextClass).on("click",function(){return clearTimeout(s),f.run("next",0,null,!0),!1});n(r.tabClass).on("click",".tab",function(){return(clearTimeout(s),n(this).hasClass("active"))?!1:(f.run("tab",0,n(this)),!1)});r.$carousel=e;f.loadSlideImages(u.slides[0].ele,0);r.autoSlide&&f.run();o.begin&&o.begin(u.currentSlide,r);r.animateBeginning&&n(window).load(function(){o.setup(u.currentSlide,r.width,"next");o.run(u.currentSlide,u.currentSlide,r,"next");n(":animated",e).promise().always(function(){f.callBack()})})},loadSlideImages:function(t,i){var o=t.find("img").first(),e=o.data("loadsrc"),r;e&&(r=o[0],f.debug("begin load carousel image: "+e),r.src=e,r.onload=function(){if(!r.isLoaded){r.isLoaded=!0;f.debug("loaded carousel image: "+r.src);n(r).addClass("imdone");var t=i+1;t<h&&f.loadSlideImages(u.slides[t].ele,t)}},window.setTimeout(r.onload,5e3))},run:function(n,t,i,u){if(!r.paused&&!c&&h>1||u&&!c&&h>1){f.setSlides(n,i);var e=t!=null?t:r.delay;s=setTimeout(function(){c=!0;f.slide()},e)}},slide:function(){e.trigger("beforeSlide");f.tabControl();o.run(u.currentSlide,u.nextSlide,r,u.direction);f.checkAnimationHasFinished()},checkAnimationHasFinished:function(){n(":animated",e).promise().done(function(){if(n(":animated",e).length>0)return f.checkAnimationHasFinished();c=!1;u.currentSlide.removeClass("active");u.nextSlide.addClass("active");o.complete&&o.complete(u.currentSlide,r);f.callBack()})},setSlides:function(n,t){var o=e.find(".active"),i="",f="",s,l,c;n=="prev"?(s=o.prev(),i=s.length===0?u.slides[h-1].ele:s,f="prev"):n=="tab"?(l=t.index(),i=u.slides[l].ele,f=t.prevAll(".active").length>0?"next":"prev"):(c=o.next(),i=c.length===0?u.slides[0].ele:c,f="next");u.nextSlide=i;u.currentSlide=o;u.direction=r.direction?r.direction:f},callBack:function(){e.trigger("afterSlide");r.autoSlide&&f.run()},tabControl:function(){var i=n(".active",r.tabClass),t;i.removeClass("active");t=u.slides[u.nextSlide.index()].tab;n(t,r.tabClass).addClass("active")},settings:function(n,t){if(n==null||t==null)return r;r[n]=t},slides:u.slides,clearTimer:function(){clearTimeout(s)},debug:function(n){r.debug&&window.console&&console.log(n)}};return f.init(),f};n.fn.svyCarousel.slide={run:function(t,i,r,u){var f=0;f=u=="prev"?r.width:-r.width;this.setup(i,f);n(t).stop().animate({left:f+"px"},r.speed);n(i).stop().animate({left:"0px"},r.speed)},setup:function(t,i){i=i>0?-i:Math.abs(i);n(t).css({left:i+"px",display:"block"})}};n.fn.svyCarousel.slideParallax={begin:function(t,i){i.$carousel.css({overflow:"hidden"});n(".layer",t).css({left:i.width+"px",display:"block"})},run:function(t,i,r,u){var f=0,e;r.$carousel.css({overflow:"hidden"});f=u=="prev"?r.width:-r.width;this.setup(i,f);n(t).stop().animate({left:f+"px"},r.speed);n(i).stop().animate({left:"0px"},r.speed);e=0;n(".layer",i).each(function(){e++;var t=n(this).data("speed");t||(t=e*250);n(this).stop().animate({left:"0px"},r.speed+t)});n(":animated",r.$carousel).promise().always(function(){n(t).css({top:"-1000px",left:0});r.$carousel.css({overflow:"visible"})})},setup:function(t,i){i=i>0?-i:Math.abs(i);n(t).css({left:i+"px",display:"block",top:"0"});n(".layer",t).css({left:i+"px",display:"block"})}};n.fn.svyCarousel.slideUp={run:function(t,i,r,u){var f=0;f=u=="prev"?-r.height:r.height;this.setup(i,f);n(t).stop().animate({bottom:f+"px"},r.speed);n(i).stop().animate({bottom:"0px"},r.speed)},setup:function(t,i){i=i>0?-i:Math.abs(i);n(t).css({bottom:i+"px",display:"block"})}};n.fn.svyCarousel.fade={run:function(t,i,r){this.setup(i);n(t).stop().animate({opacity:0},r.speed);n(i).stop().animate({opacity:1},r.speed)},setup:function(t){n(t).css({opacity:0,display:"block"})}};n.fn.svyCarousel.slice={numOfSlices:10,begin:function(n,t){this.createSlices(n,t.width)},run:function(t,i,r){this.setup(i,r.width);n(".slices .slice",t).each(function(t){t==0?n(this).animate({top:-r.height},r.speed):t%2==0?n(this).delay(200*t).animate({top:-r.height},r.speed):n(this).delay(200*t).animate({top:r.height},r.speed)});n("img",t).css({display:"none"});n(i).css({display:"block"})},setup:function(t,i){n("img",t).css({display:"block"});this.createSlices(t,i)},complete:function(t){n(".slices",t).remove()},createSlices:function(t,i){for(var f,e,r=i/this.numOfSlices,o=n("img",t).attr("src"),s=n('<div class="slices"><\/div>').appendTo(t),u=1;u<=this.numOfSlices;u++)f=r*u-r,e=n('<div class="slice" style="background: url(\''+o+"') -"+f+"px 0 no-repeat; position: absolute; width: "+r+"px; height: "+n(t).height()+"px; top: 0; left: "+f+'px;"><\/div>'),e.appendTo(s)}}})(jQuery);
/*
//# sourceMappingURL=carousel.min.js.map
*/