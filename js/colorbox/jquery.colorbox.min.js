(function(n,t,i){function f(i,r,u){return u=t.createElement("div"),i&&(u.id=c+i),u.style.cssText=r||"",n(u)}function a(n,t){return Math.round((/%/.test(n)?(t==="x"?v.width():v.height())/100:1)*parseInt(n,10))}function oi(n){return r.photo||/\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(\.*))?$/i.test(n)}function ai(t){r=n.extend({},n.data(y,w));for(t in r)n.isFunction(r[t])&&t.substring(0,2)!=="on"&&(r[t]=r[t].call(y));r.rel=r.rel||y.rel||"nofollow",r.href=r.href||n(y).attr("href"),r.title=r.title||y.title,typeof r.href=="string"&&(r.href=n.trim(r.href))}function rt(t,i){i&&i.call(y),n.event.trigger(t)}function yi(){var t,n=c+"Slideshow_",i="click."+c,f,s;r.slideshow&&e[1]?(f=function(){ht.text(r.slideshowStop).unbind(i).bind(kt,function(){(o<e.length-1||r.loop)&&(t=setTimeout(u.next,r.slideshowSpeed))}).bind(bt,function(){clearTimeout(t)}).one(i+" "+vt,s);h.removeClass(n+"off").addClass(n+"on"),t=setTimeout(u.next,r.slideshowSpeed)},s=function(){clearTimeout(t);ht.text(r.slideshowStart).unbind([kt,bt,vt,i].join(" ")).one(i,f);h.removeClass(n+"on").addClass(n+"off")},r.slideshowAuto?f():s()):h.removeClass(n+"off "+n+"on")}function vi(t){if(!wt){if(y=t,ai(),e=n(y),o=0,r.rel!=="nofollow"&&(e=n("."+ut).filter(function(){var t=n.data(this,w).rel||this.rel;return t===r.rel}),o=e.index(y),o===-1&&(e=e.add(y),o=e.length-1)),!d){if(d=at=!0,h.show(),r.returnFocus)try{y.blur();n(y).one(ci,function(){try{this.focus()}catch(n){}})}catch(i){}g.css({opacity:+r.opacity,cursor:r.overlayClose?"pointer":"auto"}).show(),r.w=a(r.initialWidth,"x"),r.h=a(r.initialHeight,"y"),u.position(),et&&v.bind("resize."+pt+" scroll."+pt,function(){g.css({width:v.width(),height:v.height(),top:v.scrollTop(),left:v.scrollLeft()})}).trigger("resize."+pt),rt(hi,r.onOpen),fi.add(ii).hide(),ui.html(r.close).show()}u.load(!0)}}var si={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:!1,returnFocus:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:!1},w="colorbox",c="cbox",ut=c+"Element",hi=c+"_open",bt=c+"_load",kt=c+"_complete",vt=c+"_cleanup",ci=c+"_closed",yt=c+"_purge",ft=n.browser.msie&&!n.support.opacity,et=ft&&n.browser.version<7,pt=c+"_IE6",g,h,it,p,dt,gt,ni,ti,e,v,l,ot,st,ii,ri,ht,ct,lt,ui,fi,r,nt,tt,b,k,y,o,s,d,at,wt,ei,li,u;u=n.fn[w]=n[w]=function(t,i){var r=this;if(t=t||{},!r[0]){if(r.selector)return r;r=n("<a/>"),t.open=!0}return i&&(t.onComplete=i),r.each(function(){n.data(this,w,n.extend({},n.data(this,w)||si,t)),n(this).addClass(ut)}),(n.isFunction(t.open)&&t.open.call(r)||t.open)&&vi(r[0]),r},u.init=function(){v=n(i),h=f().attr({id:w,"class":ft?c+(et?"IE6":"IE"):""}),g=f("Overlay",et?"position:absolute":"").hide(),it=f("Wrapper"),p=f("Content").append(l=f("LoadedContent","width:0; height:0; overflow:hidden"),st=f("LoadingOverlay").add(f("LoadingGraphic")),ii=f("Title"),ri=f("Current"),ct=f("Next"),lt=f("Previous"),ht=f("Slideshow").bind(hi,yi),ui=f("Close")),it.append(f().append(f("TopLeft"),dt=f("TopCenter"),f("TopRight")),f(!1,"clear:left").append(gt=f("MiddleLeft"),p,ni=f("MiddleRight")),f(!1,"clear:left").append(f("BottomLeft"),ti=f("BottomCenter"),f("BottomRight"))).children().children().css({float:"left"}),ot=f(!1,"position:absolute; width:9999px; visibility:hidden; display:none"),n("body").prepend(g,h.append(it,ot)),p.children().hover(function(){n(this).addClass("hover")},function(){n(this).removeClass("hover")}).addClass("hover"),nt=dt.height()+ti.height()+p.outerHeight(!0)-p.height(),tt=gt.width()+ni.width()+p.outerWidth(!0)-p.width(),b=l.outerHeight(!0),k=l.outerWidth(!0),h.css({"padding-bottom":nt,"padding-right":tt}).hide(),ct.click(function(){u.next()}),lt.click(function(){u.prev()}),ui.click(function(){u.close()}),fi=ct.add(lt).add(ri).add(ht),p.children().removeClass("hover"),g.click(function(){r.overlayClose&&u.close()}),n(t).bind("keydown."+c,function(n){var t=n.keyCode;d&&r.escKey&&t===27&&(n.preventDefault(),u.close()),d&&r.arrowKey&&e[1]&&(t===37?(n.preventDefault(),lt.click()):t===39&&(n.preventDefault(),ct.click()))})},u.remove=function(){h.add(g).remove(),n("."+ut).removeData(w).removeClass(ut)},u.position=function(n,i){function o(n){dt[0].style.width=ti[0].style.width=p[0].style.width=n.style.width,st[0].style.height=st[1].style.height=p[0].style.height=gt[0].style.height=ni[0].style.height=n.style.height}var f=0,e=0;v.unbind("resize."+c),h.hide(),r.fixed&&!et?h.css({position:"fixed"}):(f=v.scrollTop(),e=v.scrollLeft(),h.css({position:"absolute"})),e+=r.right!==!1?Math.max(v.width()-r.w-k-tt-a(r.right,"x"),0):r.left!==!1?a(r.left,"x"):Math.round(Math.max(v.width()-r.w-k-tt,0)/2),f+=r.bottom!==!1?Math.max(t.documentElement.clientHeight-r.h-b-nt-a(r.bottom,"y"),0):r.top!==!1?a(r.top,"y"):Math.round(Math.max(t.documentElement.clientHeight-r.h-b-nt,0)/2),h.show(),n=h.width()===r.w+k&&h.height()===r.h+b?0:n||0,it[0].style.width=it[0].style.height="9999px",h.dequeue().animate({width:r.w+k,height:r.h+b,top:f,left:e},{duration:n,complete:function(){o(this),at=!1,it[0].style.width=r.w+k+tt+"px",it[0].style.height=r.h+b+nt+"px",i&&i(),setTimeout(function(){v.bind("resize."+c,u.position)},1)},step:function(){o(this)}})},u.resize=function(n){if(d){if(n=n||{},n.width&&(r.w=a(n.width,"x")-k-tt),n.innerWidth&&(r.w=a(n.innerWidth,"x")),l.css({width:r.w}),n.height&&(r.h=a(n.height,"y")-b-nt),n.innerHeight&&(r.h=a(n.innerHeight,"y")),!n.innerHeight&&!n.height){var t=l.wrapInner("<div style='overflow:auto'><\/div>").children();r.h=t.height(),t.replaceWith(t.children())}l.css({height:r.h}),u.position(r.transition==="none"?0:r.speed)}},u.prep=function(t){function v(){return r.w=r.w||l.width(),r.w=r.mw&&r.mw<r.w?r.mw:r.w,r.w}function y(){return r.h=r.h||l.height(),r.h=r.mh&&r.mh<r.h?r.mh:r.h,r.h}if(d){var i,a=r.transition==="none"?0:r.speed;if(l.remove(),l=f("LoadedContent").append(t),l.hide().appendTo(ot.show()).css({width:v(),overflow:r.scrolling?"auto":"hidden"}).css({height:y()}).prependTo(p),ot.hide(),n(s).css({float:"none"}),et)n("select").not(h.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(vt,function(){this.style.visibility="inherit"});i=function(){function b(){ft&&h[0].style.removeAttribute("filter")}var v,i,y,u,f=e.length,t,p;if(d){if(p=function(){clearTimeout(li),st.hide(),rt(kt,r.onComplete)},ft&&s&&l.fadeIn(100),ii.html(r.title).add(l).show(),f>1?(typeof r.current=="string"&&ri.html(r.current.replace("{current}",o+1).replace("{total}",f)).show(),ct[r.loop||o<f-1?"show":"hide"]().html(r.next),lt[r.loop||o?"show":"hide"]().html(r.previous),v=o?e[o-1]:e[f-1],y=o<f-1?e[o+1]:e[0],r.slideshow&&ht.show(),r.preloading&&(u=n.data(y,w).href||y.href,i=n.data(v,w).href||v.href,u=n.isFunction(u)?u.call(y):u,i=n.isFunction(i)?i.call(v):i,oi(u)&&(n("<img/>")[0].src=u),oi(i)&&(n("<img/>")[0].src=i))):fi.hide(),r.iframe){if(t=n("<iframe/>").addClass(c+"Iframe")[0],r.fastIframe)p();else n(t).one("load",p);t.name=c+ +new Date,t.src=r.href,r.scrolling||(t.scrolling="no"),ft&&(t.frameBorder=0,t.allowTransparency="true");n(t).appendTo(l).one(yt,function(){t.src="//about:blank"})}else p();r.transition==="fade"?h.fadeTo(a,1,b):b()}},r.transition==="fade"?h.fadeTo(a,0,function(){u.position(0,i)}):u.position(a,i)}},u.load=function(t){var i,v,h=u.prep;if(at=!0,s=!1,y=e[o],t||ai(),rt(yt),rt(bt,r.onLoad),r.h=r.height?a(r.height,"y")-b-nt:r.innerHeight&&a(r.innerHeight,"y"),r.w=r.width?a(r.width,"x")-k-tt:r.innerWidth&&a(r.innerWidth,"x"),r.mw=r.w,r.mh=r.h,r.maxWidth&&(r.mw=a(r.maxWidth,"x")-k-tt,r.mw=r.w&&r.w<r.mw?r.w:r.mw),r.maxHeight&&(r.mh=a(r.maxHeight,"y")-b-nt,r.mh=r.h&&r.h<r.mh?r.h:r.mh),i=r.href,li=setTimeout(function(){st.show()},100),r.inline){f().hide().insertBefore(n(i)[0]).one(yt,function(){n(this).replaceWith(l.children())});h(n(i))}else r.iframe?h(" "):r.html?h(r.html):oi(i)?(n(s=new Image).addClass(c+"Photo").error(function(){r.title=!1,h(f("Error").text("This image could not be loaded"))}).load(function(){var n;s.onload=null,r.scalePhotos&&(v=function(){s.height-=s.height*n,s.width-=s.width*n},r.mw&&s.width>r.mw&&(n=(s.width-r.mw)/s.width,v()),r.mh&&s.height>r.mh&&(n=(s.height-r.mh)/s.height,v())),r.h&&(s.style.marginTop=Math.max(r.h-s.height,0)/2+"px"),e[1]&&(o<e.length-1||r.loop)&&(s.style.cursor="pointer",s.onclick=function(){u.next()}),ft&&(s.style.msInterpolationMode="bicubic"),setTimeout(function(){h(s)},1)}),setTimeout(function(){s.src=i},1)):i&&ot.load(i,r.data,function(t,i,r){h(i==="error"?f("Error").text("Request unsuccessful: "+r.statusText):n(this).contents())})},u.next=function(){!at&&e[1]&&(o<e.length-1||r.loop)&&(o=o<e.length-1?o+1:0,u.load())},u.prev=function(){!at&&e[1]&&(o||r.loop)&&(o=o?o-1:e.length-1,u.load())},u.close=function(){d&&!wt&&(wt=!0,d=!1,rt(vt,r.onCleanup),v.unbind("."+c+" ."+pt),g.fadeTo(200,0),h.stop().fadeTo(300,0,function(){h.add(g).css({opacity:1,cursor:"auto"}).hide(),rt(yt),l.remove(),setTimeout(function(){wt=!1,rt(ci,r.onClosed)},1)}))},u.element=function(){return n(y)},u.settings=si,ei=function(n){n.button!==0&&typeof n.button!="undefined"||n.ctrlKey||n.shiftKey||n.altKey||(n.preventDefault(),vi(this))},n.fn.delegate?n(t).delegate("."+ut,"click",ei):n("."+ut).live("click",ei),n(u.init)})(jQuery,document,this);
//# sourceMappingURL=jquery.colorbox.min.js.map